# For rounding time effectively
class WDay
end

class Time
  def round(sec=1)
    down = self - (self.to_i % sec)
    up = down + sec

    difference_down = self - down
    difference_up = up - self

    if (difference_down < difference_up)
      return down
    else
      return up
    end
  end
end

# Takes date from the first and time from the second
def NormalizeTimeToDate first, second
	result = Time.new(first.year, first.month, first.day, second.hour, second.min, second.sec, second.gmt_offset)
end

# Radnom subset of an array
class Array
  def random_subset(n=1)	
	result = Array.new
    raise ArgumentError, "negative argument" if n < 0
    (1..n).map do
      r = rand(2**self.size)
      result = self.select.with_index { |el, i| r[i] == 1 }
	return result.flatten
    end

  end
end


